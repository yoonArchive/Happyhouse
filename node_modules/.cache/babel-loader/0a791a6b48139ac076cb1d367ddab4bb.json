{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport CommentListItem from \"@/components/qna/item/CommentListItem.vue\";\nexport default {\n  components: {\n    CommentListItem: CommentListItem\n  },\n  data: function data() {\n    return {\n      questionForm: {\n        questionId: \"\",\n        title: \"\",\n        content: \"\",\n        author: \"ssafy\",\n        // 나중에 수정\n        createDate: \"\"\n      },\n      commentForm: {\n        questionId: 0,\n        author: \"ssafy\",\n        // 나중에 수정\n        content: \"\",\n        createDate: \"\"\n      },\n      comments: {},\n      lengthMsg: \"총 0개의 댓글이 있습니다.\"\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.$axios.get(\"/qnas/\".concat(this.$route.params.questionId)).then(function (_ref) {\n      var data = _ref.data;\n      console.log(data);\n      _this.questionForm.questionId = data.questionId;\n      _this.questionForm.title = data.title;\n      _this.questionForm.content = data.content;\n      _this.questionForm.author = data.author;\n      _this.questionForm.createDate = data.createDate;\n      _this.comments = data.answers;\n      _this.lengthMsg = \"\\uCD1D \".concat(_this.comments.length, \"\\uAC1C\\uC758 \\uB313\\uAE00\\uC774 \\uC788\\uC2B5\\uB2C8\\uB2E4.\");\n    });\n  },\n  methods: {\n    goModifyQuestion: function goModifyQuestion() {\n      this.$router.push({\n        name: \"QuestionModify\",\n        params: this.questionForm.questionId\n      });\n    },\n    deleteQuestion: function deleteQuestion() {\n      var _this2 = this;\n\n      if (confirm(\"정말 삭제하시겠습니까?\")) {\n        this.$axios.delete(\"/qnas/question/\".concat(this.questionForm.questionId)).then(function () {\n          alert(\"삭제되었습니다.\");\n\n          _this2.goList();\n        });\n      }\n    },\n    goList: function goList() {\n      this.$router.push(\"/qna\");\n    },\n    addComment: function addComment() {\n      var _this3 = this;\n\n      var commentInfo = {\n        questionId: this.questionForm.questionId,\n        author: this.commentForm.author,\n        content: this.commentForm.content\n      };\n      this.$axios.post(\"/qnas/answer\", commentInfo).then(function () {\n        alert(\"등록 성공\");\n\n        _this3.comments.push(commentInfo);\n\n        location.reload();\n      }).catch(function () {\n        alert(\"등록 실패\");\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFA;AACA;EACAA;IACAC;EADA,CADA;EAIAC,IAJA,kBAIA;IACA;MACAC;QACAC,cADA;QAEAC,SAFA;QAGAC,WAHA;QAIAC,eAJA;QAIA;QACAC;MALA,CADA;MAQAC;QACAL,aADA;QAEAG,eAFA;QAEA;QACAD,WAHA;QAIAE;MAJA,CARA;MAcAE,YAdA;MAeAC;IAfA;EAiBA,CAtBA;EAuBAC,OAvBA,qBAuBA;IAAA;;IACA,YACAC,GADA,iBACA,6BADA,GAEAC,IAFA,CAEA;MAAA;MACAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA,CAXA;EAYA,CApCA;EAqCAC;IACAC,gBADA,8BACA;MACA;QACAC,sBADA;QAEAC;MAFA;IAIA,CANA;IAOAC,cAPA,4BAOA;MAAA;;MACA;QACA,YACAC,MADA,0BACA,4BADA,GAEAP,IAFA,CAEA;UACAQ;;UACA;QACA,CALA;MAMA;IACA,CAhBA;IAiBAC,MAjBA,oBAiBA;MACA;IACA,CAnBA;IAoBAC,UApBA,wBAoBA;MAAA;;MACA;QACApB,wCADA;QAEAG,+BAFA;QAGAD;MAHA;MAKA,YACAmB,IADA,CACA,cADA,EACAC,WADA,EAEAZ,IAFA,CAEA;QACAQ;;QACA;;QACAK;MACA,CANA,EAOAC,KAPA,CAOA;QACAN;MACA,CATA;IAUA;EApCA;AArCA","names":["components","CommentListItem","data","questionForm","questionId","title","content","author","createDate","commentForm","comments","lengthMsg","created","get","then","console","methods","goModifyQuestion","name","params","deleteQuestion","delete","alert","goList","addComment","post","commentInfo","location","catch"],"sourceRoot":"src/components/qna","sources":["QuestionDetail.vue"],"sourcesContent":["<template>\r\n  <article id=\"main\">\r\n    <header>\r\n      <h2>Q&A</h2>\r\n      <p>문의 조회</p>\r\n    </header>\r\n    <section class=\"wrapper style5\">\r\n      <div class=\"inner\">\r\n        <header>\r\n          <h2>{{ questionForm.title }}</h2>\r\n        </header>\r\n        <p>{{ questionForm.author }} | {{ questionForm.createDate }}</p>\r\n        <hr />\r\n        <pre>{{ questionForm.content }}</pre>\r\n        <div class=\"row gtr-uniform aln-center\">\r\n          <div></div>\r\n          <div class=\"col-6\">\r\n            <ul class=\"actions\">\r\n              <li>\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"primary\"\r\n                  id=\"modifyBtn\"\r\n                  @click=\"goModifyQuestion\"\r\n                >\r\n                  수정\r\n                </button>\r\n              </li>\r\n              <li>\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"button\"\r\n                  id=\"deleteQuestionBtn\"\r\n                  @click=\"deleteQuestion\"\r\n                >\r\n                  삭제\r\n                </button>\r\n              </li>\r\n              <li>\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"button\"\r\n                  id=\"goListBtn\"\r\n                  @click=\"goList\"\r\n                >\r\n                  목록\r\n                </button>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <textarea\r\n            class=\"ta\"\r\n            name=\"comment\"\r\n            id=\"comment\"\r\n            placeholder=\"Enter comment\"\r\n            rows=\"3\"\r\n            required\r\n            v-model=\"commentForm.content\"\r\n          ></textarea>\r\n          <div style=\"float: right\">\r\n            <button type=\"button\" class=\"button small\" @click=\"addComment\">\r\n              등록\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <br /><br />\r\n        <h4>{{ lengthMsg }}</h4>\r\n        <ul class=\"alt\">\r\n          <comment-list-item\r\n            v-for=\"comment in comments\"\r\n            :key=\"comment.answerId\"\r\n            v-bind=\"comment\"\r\n          />\r\n        </ul>\r\n      </div>\r\n    </section>\r\n  </article>\r\n</template>\r\n\r\n<script>\r\nimport CommentListItem from \"@/components/qna/item/CommentListItem.vue\";\r\nexport default {\r\n  components: {\r\n    CommentListItem,\r\n  },\r\n  data() {\r\n    return {\r\n      questionForm: {\r\n        questionId: \"\",\r\n        title: \"\",\r\n        content: \"\",\r\n        author: \"ssafy\", // 나중에 수정\r\n        createDate: \"\",\r\n      },\r\n      commentForm: {\r\n        questionId: 0,\r\n        author: \"ssafy\", // 나중에 수정\r\n        content: \"\",\r\n        createDate: \"\",\r\n      },\r\n      comments: {},\r\n      lengthMsg: \"총 0개의 댓글이 있습니다.\",\r\n    };\r\n  },\r\n  created() {\r\n    this.$axios\r\n      .get(`/qnas/${this.$route.params.questionId}`)\r\n      .then(({ data }) => {\r\n        console.log(data);\r\n        this.questionForm.questionId = data.questionId;\r\n        this.questionForm.title = data.title;\r\n        this.questionForm.content = data.content;\r\n        this.questionForm.author = data.author;\r\n        this.questionForm.createDate = data.createDate;\r\n        this.comments = data.answers;\r\n        this.lengthMsg = `총 ${this.comments.length}개의 댓글이 있습니다.`;\r\n      });\r\n  },\r\n  methods: {\r\n    goModifyQuestion() {\r\n      this.$router.push({\r\n        name: \"QuestionModify\",\r\n        params: this.questionForm.questionId,\r\n      });\r\n    },\r\n    deleteQuestion() {\r\n      if (confirm(\"정말 삭제하시겠습니까?\")) {\r\n        this.$axios\r\n          .delete(`/qnas/question/${this.questionForm.questionId}`)\r\n          .then(() => {\r\n            alert(\"삭제되었습니다.\");\r\n            this.goList();\r\n          });\r\n      }\r\n    },\r\n    goList() {\r\n      this.$router.push(\"/qna\");\r\n    },\r\n    addComment() {\r\n      let commentInfo = {\r\n        questionId: this.questionForm.questionId,\r\n        author: this.commentForm.author,\r\n        content: this.commentForm.content,\r\n      };\r\n      this.$axios\r\n        .post(\"/qnas/answer\", commentInfo)\r\n        .then(() => {\r\n          alert(\"등록 성공\");\r\n          this.comments.push(commentInfo);\r\n          location.reload();\r\n        })\r\n        .catch(() => {\r\n          alert(\"등록 실패\");\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>\r\n"]},"metadata":{},"sourceType":"module"}